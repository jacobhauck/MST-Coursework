\documentclass[]{beamer}
\input{../../mybeamer.tex}
\input{../../standardcmd.tex}


\title{The Fréchet Derivative}
\author{Jacob Hauck}
\institute{Math 6418}
\date{}

\begin{document}
	\frame{\titlepage}
	
	\begin{frame}{Outline and goals}
		\begin{itemize}
			\item Introduce Fréchet derivative
			\begin{itemize}
				\item Basic properties
			\end{itemize}
			\vfill
			\item Some examples of Fréchet derivatives 
			\begin{itemize}
				\item Relationship with finite-dimensional derivatives
			\end{itemize}
			\vfill
			\item Important theorems
			\begin{itemize}
				\item Chain rule
				\item Mean value theorem
			\end{itemize}
			\vfill
			\item Partial Fréchet derivatives
		\end{itemize}
	\end{frame}
	
	\begin{frame}{Motivation}
		Let $X$, $Y$ be normed vector spaces. We know a lot about bounded, linear operators $A \in B(X,Y)$.
		
		\vfill
		What about nonlinear operators?
		\vfill
		
		Linearize:
		\begin{equation*}
			f(x+h) \approx f(x) + Ah, \qquad A \in B(X,Y),\quad h \text{ ``small enough''}
		\end{equation*}
		\vfill
		
		From calculus, we know that
		\begin{equation*}
			\frac{f(x+h) - f(x) - f'(x)h}{h} \to 0 \qquad \text{ as } h \to 0.
		\end{equation*}
		Generalize to arbitrary $X$, $Y$?
	\end{frame}
	
	\begin{frame}{Definition of Fréchet derivative}
		\begin{block}{Definition: Fréchet Derivative}
			Let $U \subset X$ be open and $f: U \to Y$. Then $f$ is \textbf{Fréchet differentiable at $x\in U$} if there exists $A \in B(X,Y)$ such that
			\begin{equation*}
				\frac{\lVert f(x+h) - f(x) - Ah\rVert_Y}{\lVert h \rVert_X} \to 0\quad \text{as}\quad h \to 0 \text{ in $X$}.
			\end{equation*}
			In this case, $A$ is called the \textbf{Fréchet derivative of $f$ at $x$}, and is also denoted
			\begin{equation*}
				A = A_x = Df(x) = f'(x).
			\end{equation*}
		\end{block}
		\vfill
		
		This reduces to the usual derivative if $X = Y = \mathbb{R}$.
	\end{frame}
	
	\begin{frame}{Basic Properties}
		Let $f$ and $g$ be Fréchet differentiable at $x \in U$, and let $\alpha, \beta \in \mathbb{F}$. Then
		\vfill
		\begin{enumerate}
			\item $Df$ is unique,
			\begin{itemize}
				\item Let $A$, $B$ both be derivatives. Show $A = B$ via $\lVert A - B\rVert = 0$.
			\end{itemize}
			\vfill
			\item $D(\alpha f + \beta g)(x) = \alpha Df(x) + \beta Dg(x)$ (linearity),
			\vfill
			\item $f$ is continuous at $x$ (with respect to $\lVert \cdot \rVert_Y$ and $\lVert \cdot \rVert_X$),
			\begin{itemize}
				\item Add and subtract $Df(x)h$, triangle inequality.
			\end{itemize}
			\vfill 
			\item $f$ is \textbf{locally Lipschitz} at $x$. That is, there is $\delta > 0$ and $L > 0$ such that
			\begin{equation*}
				\lVert h \rVert_X < \delta \implies \lVert f(x+h) -f(x)\rVert_Y \le L\lVert h\rVert_X.
			\end{equation*}
			Moreover, given $\varepsilon > 0$, we can take $L = \lVert Df(x)\rVert_{B(X,Y)} + \varepsilon$ (maybe need to take $\delta$ smaller)
		\end{enumerate}
	\end{frame}
	
	\begin{frame}{Examples -- Linear operators and ``quadratic'' operators}
		\textbf{Example 1.} Let $f(x) = Ax$, where $A \in B(X,Y)$ ($f$ is linear). Then $Df(x) = A$ for all $x \in X$.
		\vfill
		
		\textbf{Example 2.} Let $X = H$, a Hilbert space over $\mathbb{R}$. Suppose that $f(x) = (x, Ax)$, where $A \in B(X,X)$. Then $Df(x) = (A^* + A)x$ for all $x \in X$.
		
		\begin{itemize}
			\item Rearrange inner products
			\item Cauchy-Schwarz inequality
			\item Boundedness of $A$
		\end{itemize}
	\end{frame}
	
	\begin{frame}{Examples -- $C^1$, finite-dimensional maps}
		\textbf{Example 3.} Let $f : \mathbb{R}^n \to \mathbb{R}$, where $f \in C^1$ (so $\partial_i f$ continuous).
		\begin{itemize}
			\item Guess: $Df(x)h = \nabla f(x)^T h$
			\item $n = 2$ case one coordinate at a time
			\item Use continuity of $\partial_i f$
		\end{itemize}
		\vfill
		
		\textbf{Example 4.} Let $f: \mathbb{R}^n \to \mathbb{R}^m$, where $f \in C^1$ (so $\partial_i f_j$ is continuous). 
		\begin{itemize}
			\item $f$ is a set of $m$ functions from Example 3:
			\begin{equation*}
				f(x) = \left[\begin{matrix}
					f_1(x) \\ \vdots \\ f_m(x)
				\end{matrix}\right]
			\end{equation*}
			\item Only finitely many components
		\end{itemize}
	\end{frame}
	
	\begin{frame}{Examples -- Function space}
		\textbf{Example 5.} Let $p > 1$ be an integer, and let $f : L^p(\mathbb{R}) \to \mathbb{R}$ be defined by
		\begin{equation*}
			f(\varphi) = \int_\mathbb{R} \varphi^p, \qquad \varphi \in L^p(\mathbb{R})
		\end{equation*}
		\begin{itemize}
			\item Binomial theorem on $(\varphi + h)^p$
			\item Hölder's inequality on higher order terms (magic happens)
		\end{itemize}
	\end{frame}
	
	\begin{frame}{Chain rule}
		In calculus, the chain rule involves the product of derivatives. Fréchet derivatives are operators -- product of operators?
		\vfill
		\begin{block}{Theorem: Chain Rule for Fréchet Derivatives}
			Let $X,Y,Z$ be normed vector spaces, $U \subset X$ and $V \subset Y$ open. Suppose that $f : U \to Y$, $g : V \to Z$.
			\vspace{.7em}
			
			If $f$ is Fréchet differentiable at $x \in U$ and $g$ is Fréchet differentiable at $f(x) \in V$, then $g\circ f$ is Fréchet differentiable at $x$, with
			\begin{equation*}
				D(g\circ f)(x) = Dg(f(x)) \circ Df(x)
			\end{equation*}
		\end{block}
		\vfill
		{\small
		\begin{itemize}
			\item Add/subtract $Dg(f(x))[f(x+h) - f(x)]$ -- linear approximation of $g(f(x+h)) - g(f(x))$
			
			\item Add/subtract $Df(x)h$ to introduced $f(x+h) - f(x)$ -- linear approximation of $f(x+h)-f(x)$
			
			\item Differentiability of $f$ and boundedness of $Dg(f(x))$
			
			\item Multiply and divide by $\lVert f(x+h) - f(x)\rVert_Y$, differentiability of $g$
		\end{itemize}
		}
	\end{frame}
	
	\begin{frame}{Mean value theorem}
		Recall: if $f$ is differentiable on $(a,b)$ \textbf{and continuous on $[a,b]$}, then there exists $c \in (a,b)$ such that
		\begin{equation*}
			\frac{f(b) - f(a)}{b-a} = f'(c)
		\end{equation*}
		\vfill
		
		Again, we can't divide by a vector... MVT often used to bound $|f(b) - f(a)|$ in terms of derivative:
		\begin{equation*}
			|f(b) - f(a)| \le |f'(c)|(b-a)
		\end{equation*}
		Generalizing this, we can say
		\begin{block}{Theorem: Mean Value Theorem for Fréchet Derivatives}
			Let $f$ be Fréchet differentiable on $U$. 
			\vspace{0.5em}
			
			If $\ell = \{tx_2 + (1-t)x_1 \mid 0 \le t \le 1\}\subset U$ then
			\begin{equation*}
				\lVert f(x_2) - f(x_1)\rVert_Y \le \sup_{x\in \ell} \lVert Df(x)\rVert \cdot \lVert x_2 - x_1\rVert_X.
			\end{equation*}
		\end{block}
	\end{frame}
	
	\begin{frame}{Proof of mean value theorem}
		\begin{itemize}
			\item Focus on case $X = \mathbb{R}$, and $[x_1, x_2] = [0, 1]$
			\vfill
			\item Local Lipschitz property and compactness of $[0,1]$ to construct a partition of a subinterval where change in function is almost controlled by derivative between partition points
			\vfill
			\item Expand difference between endpoints in telescoping sum
			\vfill
			\item Use continuity to take limit as subinterval endpoints approach full interval
			\vfill
			\item Chain rule to extend to the general case
		\end{itemize}
	\end{frame}
	
	\begin{frame}{Partial Fréchet derivatives}
		The partial derivative we know involves restricting a function to one coordinate direction -- what to do about the abstract input space $X$?
		\begin{itemize}
			\item Use directional derivative (\textbf{Gateaux derivative})
			\item Partition $X$ into finitely many subspaces
		\end{itemize}
		\vfill
		Let $X_1, X_2, \dots, X_n$ be normed vector spaces, and let
		\begin{equation*}
			X = X_1 \oplus X_2 \oplus \dots \oplus X_n.
		\end{equation*}
		Note that there are two equivalent ways to think about this direct sum:
		{\tiny
		\begin{equation*}
			\begin{split}
				&X_k \subseteq X, \quad X_j \cap X_k = \{0\} \text{ if } j \ne k, \\
				&\mathrm{span}\{X_1, X_2, \dots, X_n\} = X, \\
				&\lVert \cdot \rVert_{X_k} = \lVert \cdot \rVert_X \big\vert_{X_k}
			\end{split}
			\quad \iff \quad
			\begin{split}
				&X = X_1 \times X_2 \dots \times X_n \\
				&\lVert x \rVert_X = \lVert (\lVert x_1\rVert_{X_1}, \lVert x_2\rVert_{X_2}, \dots, \lVert x_n\rVert_{X_n})\rVert\\
				&\text{where $\lVert\cdot\rVert$ is any norm on $\mathbb{R}^n$}.
			\end{split}
		\end{equation*}
		}%
		The latter will be useful for developing the partial Fréchet derivative.
	\end{frame}
	
	\begin{frame}{Definition of partial Fréchet derivatives}
		\begin{block}{Definition: Partial Fréchet Derivatives}
			For $x = (x_1, x_2, \dots, x_n) \in U$, define
			\begin{equation*}
				f_{k,x}(z) = f(x_1, \dots, x_{k-1}, z, x_{k+1},\dots, x_n)
			\end{equation*}
			on $U_k = \{z \in X_k \mid (x_1, \dots, z, \dots, x_n) \in U\}$, which is open in $X_k$. 
			\vspace{1em}
			
			If $f_{k,x}$ is Fréchet differentiable at $x_k$, then $f$ is \textbf{partially Fréchet differentiable along $X_k$ at $x$} with \textbf{partial Fréchet derivative} $D_kf : X \to B(X_k,Y)$ given by
			\begin{equation*}
				D_kf(x) = Df_{k,x}(x_k).
			\end{equation*}
		\end{block}
		\vfill
		Differentiable at $x$ implies partially differentiable at $x$
		\begin{itemize}
			\item Lifting from $X_k$ to $X$ is differentiable. Apply chain rule.
		\end{itemize}
	\end{frame}
	
	\begin{frame}{Having all partial derivatives $\implies$ differentiable}
		\begin{block}{Theorem: Fréchet ``Gradient''}
			Suppose that $D_kf(x)$ exists for all $x \in U$, and $D_kf$ is continuous at $x_0 \in U$. Then $f$ is Fréchet differentiable at $x_0$, and
			\begin{equation*}
				Df(x_0)h = \sum_{k=1}^n D_kf(x_0)h_k, \qquad h = (h_1, \dots, h_n) \in X.
			\end{equation*}
		\end{block}
		\vfill
		\begin{itemize}
			\item Show that proposed derivative is bounded and linear
			\item One ``coordinate axis'' at a time
			\item Mean value theorem on each coordinate + continuity of partial derivatives
			\item Equivalence of $\lVert \cdot \rVert_X$ and $\ell^1$ norm of $X_k$ norms
		\end{itemize}
	\end{frame}
\end{document}
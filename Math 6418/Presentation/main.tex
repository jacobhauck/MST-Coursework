\documentclass[]{beamer}
\input{../../mybeamer.tex}
\input{../../standardcmd.tex}


\title{The Fréchet Derivative}
\author{Jacob Hauck}
\institute{Math 6418}
\date{}

\begin{document}
	\frame{\titlepage}
	
	\begin{frame}{Motivation}
		Let $X,Y$ be normed linear spaces. We know a lot about linear maps $A : X \to Y$ -- what can we do about about nonlinear maps?
		\vfill
		\pause
		
		Approximate a nonlinear map $f : U \to Y$ by a linear operator $A \in B(X,Y)$.
	\end{frame}
	
	\begin{frame}{Motivation}
		Say $X = Y = \R$, then $A_{x_0}$ is given by multiplication by a number $a_{x_0} \in \R$, and a natural choice for $a_{x_0}$ is $f'(x_0)$, as
		\begin{equation*}
			f(x) - f(x_0) \approx f'(x_0)(x-x_0).
		\end{equation*}
		\vfill
		\pause
		
		By definition,
		\begin{equation*}
			\left|\frac{f(x_0+h) - f(x_0)}{h} - f'(x_0)\right| \to 0 \quad\text{as}\quad h\to 0.
		\end{equation*}
		\pause
		How can we generalize to the case that $X,Y \ne \R$? Can't divide by $h$, so rewrite as
		\begin{equation*}
			\frac{|f(x_0+h) - f(x_0) - f'(x_0)h|}{|h|} \to 0 \quad \text{as}\quad h\to0.
		\end{equation*}
	\end{frame}
	
	\begin{frame}{Definition of the Fréchet Derivative}
		\begin{block}{Definition (Fréchet Derivative)}
		A function $f : U \to Y$ is called \textbf{Fréchet differentiable} at $x \in U$ if there exists $A \in B(X,Y)$ such that
		\begin{equation*}
			\frac{\lVert f(x+h) - f(x) - Ah \rVert_Y}{\lVert h \rVert_X} \to 0 \quad \text{as} \quad \lVert h\rVert_X\to 0,
		\end{equation*}
		in which case $A$ is called the \textbf{Fréchet derivative} of $f$ at $x$, also denoted by
		\begin{equation*}
			A = f'(x) = Df(x)
		\end{equation*}
		\end{block}
		\vfill
		\pause
		
		The Fréchet derivative is the same as the usual derivative if $f \in C^1(\R)$.
	\end{frame}
	
	\begin{frame}{Basic Properties}
		\begin{enumerate}
			\item Uniqueness (justifying the phrase ``\textit{the} Fréchet derivative'')
			\pause
			\vfill
			
			\item Linearity
			
			\begin{equation*}
				D(\alpha f + \beta g)(x) = \alpha Df(x) + \beta Dg(x)
			\end{equation*}
			\pause
			\vfill
			
			\item Fréchet differentiable $\implies$ continuous
			\pause
			\vfill 
			
			\item Fréchet differentiable $\implies$ locally Lipschitz
			
			$f : X \to Y$ is \textbf{locally Lipschitz} at $x \in X$ if there exists $\delta > 0$ and $L > 0$ such that
			\begin{equation*}
				\lVert f(x) - f(y)\rVert_Y \le L\lVert x-y \rVert_X \qquad \text{if} \quad \lVert x - y\rVert < \delta.
			\end{equation*}
			\pause
			For any $\varepsilon > 0$, can choose $\delta$ small enough so that $L = \lVert Df(x) \rVert_{B(X,Y)} + \varepsilon$ works.
		\end{enumerate}
	\end{frame}
	
	\begin{frame}{Examples -- Linear Operators}
		\textbf{Example 1.} Suppose that $f: X \to Y$ is actually linear: $f(x) = Ax$, where $A \in B(X,Y)$. Then, as expected,
		\begin{equation*}
			Df(x) = A \qquad \text{for all } x \in X.
		\end{equation*}
		\pause
		\vfill
		The proof is trivial due to the linearity of $A$:
		\begin{equation*}
			\frac{\lVert f(x+h)-f(x) - Ah\rVert_Y}{\lVert h\rVert_X} \pause= \frac{\lVert A(x+h) - Ax - Ah\lVert_Y}{\lVert h\rVert_X} = 0.
		\end{equation*}
	\end{frame}
	
	\begin{frame}{Examples -- A ``Quadratic'' Operator}
		\textbf{Example 2.} Suppose that $X = H$ is a Hilbert space over $\R$, and $f(x) = (x, Ax)$, where $A \in B(H, H)$. 
		\pause
		Then $f : H \to \R$, and
		\begin{align*}
			f(x+h) - f(x) &= (x+h,A(x+h)) - (x, Ax) \\
			&= (x, Ah) + (h, Ax) + (h, Ah)\\
			\uncover<+(1)->{
				&= (A^*x + Ax, h) + (h,Ah).
			}
		\end{align*}
		\pause
		Then, viewing $(A^* + A)x$ as an element of $H^* = B(H,\R)$,
		\begin{equation*}
			Df(x) = (A^* + A)x
		\end{equation*}
		\pause
		because, by the Cauchy-Schwarz inequality,
		\begin{align*}
			\frac{|f(x+h) - f(x) - ((A*+A)x,h)|}{\lVert h\rVert_X} &= \frac{|(h,Ah)|}{\lVert h\rVert_X} \\
			\uncover<+(1)->{
				&\le \frac{\lVert h\rVert_X\lVert Ah\rVert_X}{\lVert h\rVert_X} = \lVert Ah\rVert_X,
			}
		\end{align*}
		\uncover<+(1)->{and $\lVert Ah \rVert_X \to 0$ as $h \to 0$.}
	\end{frame}
	
	\begin{frame}{Examples -- Gradient}
		\textbf{Example 3.} Let $f \in C^1(\R^n)$ (first-order partial derivatives exist and are continuous)
		\pause
		\vfill
		Guess: $Df(x) = \nabla f(x)$, viewing $\nabla f(x)$ as a linear operator defined by $[\nabla f(x)](h) = [\nabla f(x)]^Th$, for $h \in \R^n$.
		\pause
		\vfill
		Let $n=2$, and define $\tilde{h} = h_1e_1$. Then
		{\small
		\begin{alignat*}{2}
			|f(x+h) - f(x) - \nabla f(x)^Th| &= |&&f(x+h) - f(x) - \partial_1f(x)h_1 - \partial_2f(x)h_2| \\
			\only<4>{&= &&f(x+h) - f(x+\tilde{h}) - \partial_2f(x+\tilde{h})h_2\\ 
			&&& + f(x+\tilde{h}) - f(x) - \partial_1f(x)h_1\\
			&&& + (\partial_2f(x+\tilde{h}) - \partial_2f(x))h_2}
			\only<5-6>{&\le &&|f(x+h) - f(x+\tilde{h}) - \partial_2f(x+\tilde{h})h_2|\\ 
			&&& + |f(x+\tilde{h}) - f(x) - \partial_1f(x)h_1|\\
			&&& + |\partial_2f(x+\tilde{h}) - \partial_2f(x)|\cdot|h_2|}
		\end{alignat*}
		}%
		\pause\pause\pause
		Dividing both sides by $\lVert h\rVert$ and applying definition of partial derivative and continuity...
	\end{frame}
	
	\begin{frame}{Examples -- Gradient}
		First term:
		{\small
		\begin{equation*}
			\frac{|f(x+h) - f(x+\tilde{h}) - \partial_2f(x+\tilde{h})h_2|}{\lVert h \rVert} \pause= \underbrace{\frac{h_2}{\lVert h\rVert}}_{|\cdot|\le 1}\cdot\underbrace{\frac{|\cdots|}{h_2}}_{\to 0\text{ by definition of }\partial_2} \to 0
		\end{equation*}
		}%
		as $h\to 0$.
		\pause
		\vfill
		Second term:
		{\small
		\begin{equation*}
			\frac{|f(x+\tilde{h}) - f(x) - \partial_1f(x)h_1|}{\lVert h \rVert} = \frac{h_1}{\lVert h\rVert}\cdot \frac{|\cdots|}{h_1} \to 0\quad \text{as}\quad h\to 0.
		\end{equation*}
		}%
		\pause
		\vfill
		Third term:
		{\small
		\begin{equation*}
			|\partial_2f(x+\tilde{h}) - \partial_2f(x)|\cdot\frac{|h_2|}{\lVert h\rVert} \to 0 \quad\text{as}\quad h\to 0
		\end{equation*}	
		}%
		by the continuity of $\partial_2f$.
	\end{frame}
	
	\begin{frame}{Examples -- Jacobian}
		\textbf{Example 4.} Let $f : \R^n \to \R^m$ be $C^1$.
		\vfill
		\pause
		Then, if $J(x) \in \R^{m\times n}$ is the Jacobian matrix of $f$,
		\begin{equation*}
			f(x) = \left[\begin{matrix}f_1(x) \\ \vdots \\f_m(x)\end{matrix}\right] \implies J(x) = \left[\begin{matrix}\nabla f_1(x)^T \\ \vdots \\ \nabla f_m(x)^T\end{matrix}\right],
		\end{equation*}
		\pause
		and
		{\small
		\begin{equation*}
			\frac{\left\lVert f(x+h) - f(x) - J(x)h\right\rVert}{\lVert h\rVert} = \frac{\left\lVert \left[\begin{matrix}f_1(x+h) - f_1(x) - \nabla f_1(x)^Th \\ \vdots \\ f_m(x+h) - f_m(x) - \nabla f_m(x)^Th\end{matrix}\right]\right\rVert}{\lVert h \rVert}.
		\end{equation*}
		}%
		\pause
		Each component $\to 0$ as $h\to 0$ because $\nabla f_1$ is the Fréchet derivative of $f_1$; therefore $Df(x) = J(x)$, interpreting the matrix as an operator.
	\end{frame}
	
	\begin{frame}{Examples -- Integral of a Power}
		\textbf{Example 5.} Let $p > 1$ be an integer, and let $f : L^p(\R) \to \R$ be defined by
		\begin{equation*}
			f(\varphi) = \int \varphi^p.
		\end{equation*}
		\vfill
		\pause
		
		Let $h \in L^p(\R)$; then
		\begin{align*}
			f(\varphi + h) - f(\varphi) &= \int [(\varphi+h)^p - \varphi^p] \\
			&= \int \left[p\varphi^{p-1}h + \binom{p}{2}\varphi^{p-2}h^2 + \dots + h^p\right]
		\end{align*}
		\vfill
		\pause
		
		Note that $\varphi^{p-k}h^k$ is integrable for $k = 0,1,\dots, p$:
		\begin{equation*}
			\int |\varphi|^{p-k}|h|^k \le \left(\int|\varphi|^p\right)^\frac{1}{u}\left(\int|h|^p\right)^\frac{1}{v} = \lVert \varphi \rVert_{L^p(\R)}^{p-k}\lVert h \rVert_{L^p(\R)}^k
		\end{equation*}
		if $u = \frac{p}{p-k}$ and $v = \frac{p}{k}$.
	\end{frame}
	
	\begin{frame}{Examples -- Integral of a Power}
		Therefore,
		{\small
		\begin{align*}
			\frac{1}{\lVert h\rVert_{L^p(\R)}}\Big|f(\varphi + h) - &f(\varphi) - \int p\varphi^{p-1}h\Big| \\
			&= \frac{1}{\lVert h\rVert}\left|\int\left[\binom{p}{2}\varphi^{p-2}h^2 + \dots + h^p\right]\right| \\[0.5em]
			\only<2-5>{
				&\le \binom{p}{2}\int|\varphi|^{p-2}|h^2| + \dots + \int |h|^p \\[0.5em]
			}
			\only<3-5>{
				&\le \frac{1}{\lVert h\rVert}\left[\binom{p}{2}\lVert \varphi\rVert_{L^p(\R)}^{p-2}\lVert h\rVert_{L^p(\R)}^2 + \dots + \lVert h\rVert_{L^p(\R)}^p\right] \\[0.5em]
			}
			\only<4-5>{
				&\le C(\varphi,p) \left(\lVert h\rVert + \lVert h\rVert^2 + \dots +\lVert h\rVert^{p-2}\right) \\[0.5em]
			}
		\end{align*}
		}%
		\pause\pause\pause
		which $\to 0$ as $\lVert h \rVert \to 0$. 
		
		\vfill
		\pause
		
		Hence,
		\begin{equation*}
			Df(\varphi)h = \int p\varphi^{p-1}h
		\end{equation*}
	\end{frame}
	
	\begin{frame}{Directional Derivatives}
		We can also define a directional derivative of an operator $f : X \to Y$.
		
		\begin{block}{Gateaux Derivative}
			Let $h \in X$ be a unit vector. Then $A \in B(X,Y)$ is called the \textbf{Gateaux derivative} of $f$ at $x \in X$ \textbf{in the direction} $h$ if
			\begin{equation*}
				\frac{\lVert f(x+th) - f(x) - tAh\rVert_Y}{|t|} \to 0 \quad\text{as}\quad t\to 0,
			\end{equation*}
			which is also denoted by
			\begin{equation*}
				A = D_hf(x).
			\end{equation*}
		\end{block}
		\pause
		\vfill
		Question: if $f$ is Gateaux differentiable (G.d. in every direction), is $f$ also Fréchet differentiable? Conversely?
	\end{frame}
	
	\begin{frame}{Directional Derivatives}
		Fréchet differentiable implies Gateaux differentiable, but not the other way around
	\end{frame}
\end{document}